---
http_interactions:
- request:
    method: post
    uri: https://sit.urs.earthdata.nasa.gov/oauth/token
    body:
      encoding: UTF-8
      string: grant_type=client_credentials
    headers:
      User-Agent:
      - Faraday v1.10.0
      Authorization:
      - Basic bW10X3Rlc3Q6Q0xQVHhSUTloZ3ZQOW9zUA==
  response:
    status:
      code: 200
      message: OK
    headers:
      server:
      - nginx/1.20.1
      date:
      - Thu, 13 Oct 2022 20:58:42 GMT
      content-type:
      - application/json; charset=utf-8
      connection:
      - keep-alive
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
      x-content-type-options:
      - nosniff
      x-download-options:
      - noopen
      x-permitted-cross-domain-policies:
      - none
      referrer-policy:
      - strict-origin-when-cross-origin
      cache-control:
      - no-store
      pragma:
      - no-cache
      expires:
      - Fri, 01 Jan 1990 00:00:00 GMT
      vary:
      - Accept
      etag:
      - W/"91719c8d8240206b7c998212bae8a125"
      x-request-id:
      - dbca42e4-858b-4efb-aa2f-6171e9956620
      x-runtime:
      - '0.013563'
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"access_token":"Generate JWT token","token_type":"Bearer","expires_in":1296000}'
  recorded_at: Thu, 13 Oct 2022 20:58:45 GMT
- request:
    method: post
    uri: https://sit.urs.earthdata.nasa.gov/api/user_groups
    body:
      encoding: UTF-8
      string: name=Service_Option_Association_Group_for_Permissions_Delete_354460c2d985404aaa6832744e09e601&description=Dolorem%20suscipit%20accusamus%20eveniet.&tag=MMT_2
    headers:
      User-Agent:
      - Faraday v1.10.0
      Authorization:
      - Bearer accesss_token
  response:
    status:
      code: 200
      message: OK
    headers:
      server:
      - nginx/1.20.1
      date:
      - Thu, 13 Oct 2022 20:58:42 GMT
      content-type:
      - application/json; charset=utf-8
      connection:
      - keep-alive
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
      x-content-type-options:
      - nosniff
      x-download-options:
      - noopen
      x-permitted-cross-domain-policies:
      - none
      referrer-policy:
      - strict-origin-when-cross-origin
      cache-control:
      - no-store
      pragma:
      - no-cache
      expires:
      - Fri, 01 Jan 1990 00:00:00 GMT
      vary:
      - Accept
      etag:
      - W/"e5f3774f0457c05a9dae661a61d5433a"
      x-request-id:
      - 2373af52-a174-4af5-90aa-9f2e1a356070
      x-runtime:
      - '0.012282'
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"name":"Service_Option_Association_Group_for_Permissions_Delete_354460c2d985404aaa6832744e09e601","app_uid":"mmt_test","description":"Dolorem
        suscipit accusamus eveniet.","client_id":"81FEem91NlTQreWv2UgtXQ","shared_user_group":false,"created_by":"mmt_test","tag":"MMT_2","group_id":"504dc66e-204e-4d0f-82d2-01aab06061a2"}'
  recorded_at: Thu, 13 Oct 2022 20:58:45 GMT
- request:
    method: post
    uri: https://sit.urs.earthdata.nasa.gov/api/user_groups/504dc66e-204e-4d0f-82d2-01aab06061a2/user
    body:
      encoding: UTF-8
      string: user_id=testuser
    headers:
      User-Agent:
      - Faraday v1.10.0
      Authorization:
      - Bearer access_token
  response:
    status:
      code: 200
      message: OK
    headers:
      server:
      - nginx/1.20.1
      date:
      - Thu, 13 Oct 2022 20:58:42 GMT
      content-type:
      - application/json; charset=utf-8
      connection:
      - keep-alive
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
      x-content-type-options:
      - nosniff
      x-download-options:
      - noopen
      x-permitted-cross-domain-policies:
      - none
      referrer-policy:
      - strict-origin-when-cross-origin
      cache-control:
      - no-store
      pragma:
      - no-cache
      expires:
      - Fri, 01 Jan 1990 00:00:00 GMT
      vary:
      - Accept
      etag:
      - W/"3d4eb854933dd7fff6337d4bc0ec276f"
      x-request-id:
      - c1b9e411-cb12-4026-8a2b-fbe3b5020d3f
      x-runtime:
      - '0.016943'
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
    body:
      encoding: UTF-8
      string: '{"msg":"testuser successfully added to user group Service_Option_Association_Group_for_Permissions_Delete_354460c2d985404aaa6832744e09e601"}'
  recorded_at: Thu, 13 Oct 2022 20:58:45 GMT
- request:
    method: delete
    uri: https://cmr.sit.earthdata.nasa.gov/access-control/acls/ACL1200442536-CMR
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v1.10.0
      Content-Type:
      - application/json
      Client-Id:
      - MMT
      Authorization:
      - Bearer access_token
  response:
    status:
      code: 200
      message: OK
    headers:
      content-type:
      - application/json
      content-length:
      - '50'
      connection:
      - keep-alive
      date:
      - Thu, 13 Oct 2022 20:58:43 GMT
      cmr-request-id:
      - 67a4151f-3308-4a91-a14c-d905db60aafa
      x-request-id:
      - 1bAXeLaTCZFinidOkbJzL1E6a8zDXjA1sfvksGSv8glAGbKPnTxvVQ==
      server:
      - ServerTokens ProductOnly
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
      strict-transport-security:
      - max-age=31536000
      x-cache:
      - Miss from cloudfront
      via:
      - 1.1 ec53ea7490128507417199834543513a.cloudfront.net (CloudFront)
      x-amz-cf-pop:
      - SFO5-C1
      x-amz-cf-id:
      - 1bAXeLaTCZFinidOkbJzL1E6a8zDXjA1sfvksGSv8glAGbKPnTxvVQ==
    body:
      encoding: UTF-8
      string: '{"revision-id":2,"concept-id":"ACL1200442536-CMR"}'
  recorded_at: Thu, 13 Oct 2022 20:58:46 GMT
- request:
    method: post
    uri: https://cmr.sit.earthdata.nasa.gov/access-control/acls
    body:
      encoding: UTF-8
      string: '{"group_permissions":[{"group_id":"504dc66e-204e-4d0f-82d2-01aab06061a2","permissions":["delete"]}],"provider_identity":{"provider_id":"MMT_2","target":"OPTION_ASSIGNMENT"}}'
    headers:
      User-Agent:
      - Faraday v1.10.0
      Content-Type:
      - application/json
      Client-Id:
      - MMT
      Authorization:
      - Bearer access_token
  response:
    status:
      code: 200
      message: OK
    headers:
      content-type:
      - application/json
      content-length:
      - '50'
      connection:
      - keep-alive
      date:
      - Thu, 13 Oct 2022 20:58:44 GMT
      cmr-request-id:
      - a3e1535f-7d60-41fc-a645-357c2e3a3bc0
      x-request-id:
      - 2o-2FUMXZ-ArKls8hwfAy75mzA0IjWIQUNPflpKlGNRDZEamwboTLg==
      server:
      - ServerTokens ProductOnly
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
      strict-transport-security:
      - max-age=31536000
      x-cache:
      - Miss from cloudfront
      via:
      - 1.1 e0559a822309b4036bf1911ebfc409ec.cloudfront.net (CloudFront)
      x-amz-cf-pop:
      - SFO5-C1
      x-amz-cf-id:
      - 2o-2FUMXZ-ArKls8hwfAy75mzA0IjWIQUNPflpKlGNRDZEamwboTLg==
    body:
      encoding: UTF-8
      string: '{"revision_id":1,"concept_id":"ACL1200442538-CMR"}'
  recorded_at: Thu, 13 Oct 2022 20:58:46 GMT
- request:
    method: get
    uri: https://cmr.sit.earthdata.nasa.gov/access-control/permissions?provider=MMT_2&target=NON_NASA_DRAFT_APPROVER&user_id=testuser
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v1.10.0
      Client-Id:
      - MMT
      Accept:
      - application/json; charset=utf-8
      Authorization:
      - access_token
  response:
    status:
      code: 200
      message: OK
    headers:
      content-length:
      - '30'
      connection:
      - keep-alive
      date:
      - Thu, 13 Oct 2022 20:58:46 GMT
      cmr-request-id:
      - b84f0590-39d8-4046-bdd4-5e8781716aaa
      x-request-id:
      - 9aKLKkWwo9j0zvoWKwosbXggVsuEaWq_L3PnxLRyW8taPK8_EaXQfQ==
      vary:
      - Accept-Encoding, User-Agent
      server:
      - ServerTokens ProductOnly
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
      strict-transport-security:
      - max-age=31536000
      x-cache:
      - Miss from cloudfront
      via:
      - 1.1 4d573cd6a6c0581b92beae04909c3dce.cloudfront.net (CloudFront)
      x-amz-cf-pop:
      - SFO5-C1
      x-amz-cf-id:
      - 9aKLKkWwo9j0zvoWKwosbXggVsuEaWq_L3PnxLRyW8taPK8_EaXQfQ==
    body:
      encoding: UTF-8
      string: '{"NON_NASA_DRAFT_APPROVER":[]}'
  recorded_at: Thu, 13 Oct 2022 20:58:49 GMT
- request:
    method: get
    uri: https://cmr.sit.earthdata.nasa.gov/access-control/permissions?provider=MMT_2&target=OPTION_ASSIGNMENT&user_id=testuser
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v1.10.0
      Client-Id:
      - MMT
      Accept:
      - application/json; charset=utf-8
      Authorization:
      - access_token
  response:
    status:
      code: 200
      message: OK
    headers:
      content-length:
      - '32'
      connection:
      - keep-alive
      date:
      - Thu, 13 Oct 2022 20:58:47 GMT
      cmr-request-id:
      - 6b7623d1-8b11-44a3-82db-f1f847a17646
      x-request-id:
      - pbVPvWpsQ97oohLQdR-fc0WLI4tfPrTIVGoggMKtOKo2D1O6uUmybA==
      vary:
      - Accept-Encoding, User-Agent
      server:
      - ServerTokens ProductOnly
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
      strict-transport-security:
      - max-age=31536000
      x-cache:
      - Miss from cloudfront
      via:
      - 1.1 f88ade6c78faa40dd05dac030acdcf9c.cloudfront.net (CloudFront)
      x-amz-cf-pop:
      - SFO5-C1
      x-amz-cf-id:
      - pbVPvWpsQ97oohLQdR-fc0WLI4tfPrTIVGoggMKtOKo2D1O6uUmybA==
    body:
      encoding: UTF-8
      string: '{"OPTION_ASSIGNMENT":["delete"]}'
  recorded_at: Thu, 13 Oct 2022 20:58:50 GMT
- request:
    method: get
    uri: https://cmr.sit.earthdata.nasa.gov/access-control/permissions?provider=MMT_2&target=NON_NASA_DRAFT_APPROVER&user_id=testuser
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v1.10.0
      Client-Id:
      - MMT
      Accept:
      - application/json; charset=utf-8
      Authorization:
      - access_token
  response:
    status:
      code: 200
      message: OK
    headers:
      content-length:
      - '30'
      connection:
      - keep-alive
      date:
      - Thu, 13 Oct 2022 20:59:01 GMT
      cmr-request-id:
      - 93aa36d6-d6fa-4fb2-b1ee-2477e3bfc62d
      x-request-id:
      - kge3vakhJJ9u9bWrNWkKAvtddBRaNAPZXNU73cwA3bLe-2uFBfEsZA==
      vary:
      - Accept-Encoding, User-Agent
      server:
      - ServerTokens ProductOnly
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
      strict-transport-security:
      - max-age=31536000
      x-cache:
      - Miss from cloudfront
      via:
      - 1.1 1a6eb5e1dd6efbd323fd6d7c523cd1f2.cloudfront.net (CloudFront)
      x-amz-cf-pop:
      - SFO5-C1
      x-amz-cf-id:
      - kge3vakhJJ9u9bWrNWkKAvtddBRaNAPZXNU73cwA3bLe-2uFBfEsZA==
    body:
      encoding: UTF-8
      string: '{"NON_NASA_DRAFT_APPROVER":[]}'
  recorded_at: Thu, 13 Oct 2022 20:59:04 GMT
- request:
    method: post
    uri: https://cmr.sit.earthdata.nasa.gov/legacy-services/echo-v10/ProviderServicePortImpl
    body:
      encoding: UTF-8
      string: <?xml version="1.0" encoding="UTF-8"?><SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"
        xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><SOAP-ENV:Header/><SOAP-ENV:Body><ns2:GetProviderNames
        xmlns:ns2="http://echo.nasa.gov/echo/v10" xmlns:ns3="http://echo.nasa.gov/echo/v10/types"
        xmlns:ns4="http://echo.nasa.gov/ingest/v10"><ns2:token>access_token</ns2:token><ns2:guids
        xsi:nil="true"/></ns2:GetProviderNames><to_str/></SOAP-ENV:Body></SOAP-ENV:Envelope>
    headers:
      User-Agent:
      - Faraday v1.10.0
      Content-Type:
      - text/xml
  response:
    status:
      code: 500
      message: Server Error
    headers:
      content-type:
      - text/xml;charset=utf-8
      content-length:
      - '938'
      connection:
      - keep-alive
      date:
      - Thu, 13 Oct 2022 20:59:02 GMT
      accept:
      - text/xml, text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
      soapaction:
      - '""'
      server:
      - ServerTokens ProductOnly
      x-request-id:
      - H3azwFC9Um4ybIH8hDq5ySHBZQIWJU3OfLbNCTb1eHHPJ7GDXgD8hw==
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
      strict-transport-security:
      - max-age=31536000
      x-cache:
      - Error from cloudfront
      via:
      - 1.1 a998f328ddbb3cec6c0b16ccd7c148b6.cloudfront.net (CloudFront)
      x-amz-cf-pop:
      - SFO5-C1
      x-amz-cf-id:
      - H3azwFC9Um4ybIH8hDq5ySHBZQIWJU3OfLbNCTb1eHHPJ7GDXgD8hw==
    body:
      encoding: UTF-8
      string: <SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"><SOAP-ENV:Header/><SOAP-ENV:Body><SOAP-ENV:Fault><faultcode>SOAP-ENV:Client</faultcode><faultstring>Token
        [access_XXX] does not exist</faultstring><detail><ns4:ItemNotFoundFault xmlns:ns2="http://echo.nasa.gov/echo/v10/types"
        xmlns:ns3="http://echo.nasa.gov/echo/v10" xmlns:ns4="http://echo.nasa.gov/echo/v10/faults"><ns4:ErrorCode>TokenNotFound</ns4:ErrorCode><ns4:OpsMessage
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:nil="true"/><ns4:SystemMessage>Token
        [access_XXX] does not exist</ns4:SystemMessage><ns4:Timestamp>2022-10-13T20:59:02.272Z</ns4:Timestamp><ns4:ErrorInstanceId>47ADB300-5579-EC87-CF9C-BED097C38158</ns4:ErrorInstanceId><ns4:Arguments><ns4:Argument><ns4:Name>Token</ns4:Name><ns4:Value>access_token</ns4:Value></ns4:Argument></ns4:Arguments></ns4:ItemNotFoundFault></detail></SOAP-ENV:Fault></SOAP-ENV:Body></SOAP-ENV:Envelope>
  recorded_at: Thu, 13 Oct 2022 20:59:04 GMT
- request:
    method: delete
    uri: https://cmr.sit.earthdata.nasa.gov/access-control/acls/ACL1200442538-CMR
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v1.10.0
      Content-Type:
      - application/json
      Client-Id:
      - MMT
      Authorization:
      - Bearer eyJ0eXAiOiJKV1QiLCJvcmlnaW4iOiJFYXJ0aGRhdGEgTG9naW4iLCJzaWciOiJlZGxqd3RwdWJrZXlfc2l0IiwiYWxnIjoiUlMyNTYifQ.eyJ0eXBlIjoiVXNlciIsInVpZCI6ImRtaXN0cnkiLCJleHAiOjE2NzA3Njk4NjAsImlhdCI6MTY2NTU4NTg2MCwiaXNzIjoiRWFydGhkYXRhIExvZ2luIn0.hR39xfz1SpqEl1l0vzo_MUbYuSg0T_OHfxXNsBoYHXRXmMtDCkB7uGPAnskM78Re0wZXXmwHmk0IxU6W8dbzZZd7KLrhmLJX-B0sMNdXO0S7El2UulZsRQfaTPJov7J4hZZTXhq8u7O3daasysXopeiUI_3qh9flb12svh58knUEPflwYhisMVShj7iqrKVNzO2gCf4poRCkmyqZAeRdwgIaKZTR5k7p1fUbB6mgFxpiftgkFCFETGB8VhiGj9aE0hFW6f4Dn9kpEqnM1axiQ-PePwz4y_yyYBNIPBhGLTmh75aNqMlmd97WpKy_1NrAyMvF3C9EfCiGZOHN5Opk_A
  response:
    status:
      code: 200
      message: OK
    headers:
      content-type:
      - application/json
      content-length:
      - '50'
      connection:
      - keep-alive
      date:
      - Thu, 13 Oct 2022 21:21:18 GMT
      cmr-request-id:
      - 0b3874fe-f7a5-4215-bd5f-673e51647e69
      x-request-id:
      - zHTMj8-3hNeGF4ExSm5aYfLQ4jZqNNsnkOwOLmg9EC1byR-FCB23Eg==
      server:
      - ServerTokens ProductOnly
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
      strict-transport-security:
      - max-age=31536000
      x-cache:
      - Miss from cloudfront
      via:
      - 1.1 be84d08eeed51234cd122d3c30e6f7c0.cloudfront.net (CloudFront)
      x-amz-cf-pop:
      - SFO5-C1
      x-amz-cf-id:
      - zHTMj8-3hNeGF4ExSm5aYfLQ4jZqNNsnkOwOLmg9EC1byR-FCB23Eg==
    body:
      encoding: UTF-8
      string: '{"revision-id":2,"concept-id":"ACL1200442538-CMR"}'
  recorded_at: Thu, 13 Oct 2022 21:21:20 GMT
- request:
    method: delete
    uri: https://sit.urs.earthdata.nasa.gov/api/user_groups/504dc66e-204e-4d0f-82d2-01aab06061a2
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v1.10.0
      Authorization:
      - Bearer Generate JWT token
  response:
    status:
      code: 401
      message: Unauthorized
    headers:
      server:
      - nginx/1.20.1
      date:
      - Thu, 13 Oct 2022 21:21:18 GMT
      content-type:
      - application/json; charset=utf-8
      transfer-encoding:
      - chunked
      connection:
      - keep-alive
      x-frame-options:
      - SAMEORIGIN
      x-xss-protection:
      - 1; mode=block
      x-content-type-options:
      - nosniff
      x-download-options:
      - noopen
      x-permitted-cross-domain-policies:
      - none
      referrer-policy:
      - strict-origin-when-cross-origin
      cache-control:
      - no-store
      pragma:
      - no-cache
      expires:
      - Fri, 01 Jan 1990 00:00:00 GMT
      www-authenticate:
      - Bearer realm="Earthdata Login",error="invalid_token"
      vary:
      - Accept
      x-request-id:
      - b5b721de-2f70-43d7-8128-d4004f073ca3
      x-runtime:
      - '0.007911'
      strict-transport-security:
      - max-age=31536000
    body:
      encoding: UTF-8
      string: '{"error":"invalid_token"}'
  recorded_at: Thu, 13 Oct 2022 21:21:21 GMT
recorded_with: VCR 6.1.0
