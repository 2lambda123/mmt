<%= render 'shared/flash_messages' %>

<main class="internal" role="main">
  <header>
    <div class="content">
      <div class="eui-breadcrumbs">
        <ol class="eui-breadcrumbs__list">
          <li class="eui-breadcrumbs__item"><%= link_to 'Manage CMR', manage_cmr_path %></li>
          <li class="eui-breadcrumbs__item"><%= link_to 'Permissions & Groups', permissions_path %></li>
          <li class="eui-breadcrumbs__item current">New Permission</li>
        </ol>
      </div>
      <h2>New Permission</h2>
      <p class="subnav current">Permissions</p>
      <p class="subnav"><%= link_to 'Groups', groups_path %></p>
    </div>
  </header>
  <div class="row row-content">
    <section>
      <%= form_tag(permissions_path, method: :post, class: 'group-form') %>
        <div class="row">
          <label for="permissionName">Name</label>
          <br>
          <%= text_field_tag 'permissionName', '', class: 'half-width', placeholder: 'permission name' %>
        </div>
      <label for="collections">Collections</label>
      <%= select_tag 'collections', options_for_select(PermissionsHelper::CollectionsOptions), id: 'collections' %>
        <label for="collection-ids" class="is-invisible">Selected Collection Entry IDs</label>
        <fieldset id="collections-constraint-values" class="is-hidden is-white">
          <div class="row">
            <label for="collections-constraint-min">Min</label>
            <input type="number" id="collections-constraint-min" class="space-right">
            <label for="collections-constraint-Max">Max</label>
            <input type="number" id="collections-constraint-max">
            <span>(Inclusive)</span>
          </div>
          <div class="row">
            <input type="checkbox" name="undefined-val" id="undefind-val">
            <label for="undefined-val">Include undefined value</label>
          </div>
        </fieldset>
        <hr>
        <label for="granules">Granules</label>
        <%= select_tag 'granules', options_for_select(PermissionsHelper::GranulesOptions), id: 'granules' %>
        <fieldset id="granules-constraint-values" class="is-hidden is-white">
          <div class="row">
            <label for="granules-constraint-min">Min</label>
            <input type="number" id="granules-constraint-min" class="space-right">
            <label for="granules-constraint-Max">Max</label>
            <input type="number" id="granules-constraint-max">
            <span>(Inclusive)</span>
          </div>
          <div class="row">
            <input type="checkbox" name="undefined-val" id="undefind-val">
            <label for="undefined-val">Include undefined value</label>
          </div>
        </fieldset>
        <hr>
        <table class="space-top align-c" id="groups-table2">
          <thead>
            <tr>
              <th class="align-c width-50"><label for="searchGroups">Search</label></th>
              <th class="align-c width-50"><label for="searchAndOrderGroups">Search and Order</label></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <%= hidden_field_tag 'searchGroupsVal' %>
                <%= select_tag 'searchGroups', options_for_select(@groups), multiple: 'multiple'  %>
              </td>
              <td>
                <%= hidden_field_tag 'searchAndOrderGroupsVal' %>
                <%= select_tag 'searchAndOrderGroups', options_for_select(@groups), multiple: 'multiple'  %>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="row space-top">
          <%= submit_tag 'Save', class: 'eui-btn--blue space-right', id: 'permissions-save-button' %>
          <%= link_to 'Cancel', permissions_path %>
        </div>
    </section>
  </div>
</main>
