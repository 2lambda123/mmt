<fieldset class="accordion is-closed" id="data-dates">
  <div class="accordion-header">
    <h3 class="icon-required">Data Dates</h3>
    <a href="#" class="float-r">
      <i class="fa fa-angle-down toggle"></i>
      <span class="is-hidden">Toggle Data Dates</span>
    </a>
  </div>
  <div class="accordion-body">
    <!-- DataDates [r] -->
    <div class="row">
      <div class="col-12">
        <%= render partial: 'drafts/forms/type', locals: {
            type: 'date',
            values: draft.draft['DataDates'] || [{}],
            name_prefix: 'draft_|data_dates|_',
            multiple: true,
            options: { always_required: true } } %>
      </div>
    </div>
  </div>
</fieldset>

<fieldset class="accordion is-closed" id="collection-data-type">
  <div class="accordion-header">
    <h3>Collection Data Type</h3>
    <a href="#" class="float-r">
      <i class="fa fa-angle-down toggle"></i>
      <span class="is-hidden">Toggle Collection Data Type</span>
    </a>
  </div>
  <div class="accordion-body">
    <div class="row">
      <div class="col-12">
        <!-- Collection Data Type -->
        <%= mmt_select(
          name: 'collection_data_type',
          title: 'Collection Data Type',
          prefix: 'draft_',
          value: draft.draft['CollectionDataType'],
          options: DraftsHelper::CollectionDataTypeOptions,
          help: 'properties/CollectionDataType'
        ) %>
      </div>
    </div>
  </div>
</fieldset>

<fieldset class="accordion is-closed" id="processing-level">
  <div class="accordion-header">
    <h3 class="icon-required">Processing Level</h3>
    <a href="#" class="float-r">
      <i class="fa fa-angle-down toggle"></i>
      <span class="is-hidden">Toggle Processing Level</span>
    </a>
  </div>
  <div class="accordion-body">
    <!-- Processing Level [r] -->
    <div class="row">
      <div class="row sub-fields">
        <div class="processing-level-fields">
          <div class="col-6">
            <% processing_level = draft.draft['ProcessingLevel'] || {} %>
            <%= mmt_select(
              name: 'id',
              title: 'ID',
              prefix: 'draft_|processing_level|_',
              value: processing_level['Id'],
              options: DraftsHelper::ProcessingLevelIdOptions,
              help: 'definitions/ProcessingLevelType/properties/Id',
              always_required: true
            ) %>
          </div>
          <div class="col-6">
            <%= mmt_text_field(
              name: 'processing_level_description',
              title: 'Processing Level Description',
              prefix: 'draft_|processing_level|_',
              value: processing_level['ProcessingLevelDescription'],
              help: 'definitions/ResourceCitationType/properties/ProcessingLevelDescription',
              validate: true
             ) %>
          </div>
        </div>
      </div>
    </div>
  </div>
</fieldset>

<fieldset class="accordion is-closed" id="collection-progress">
  <div class="accordion-header">
    <h3>Collection Progress</h3>
    <a href="#" class="float-r">
      <i class="fa fa-angle-down toggle"></i>
      <span class="is-hidden">Toggle Collection Progress</span>
    </a>
  </div>
  <div class="accordion-body">
    <!-- Collection Progress -->
    <div class="row">
      <div class="col-12">
        <%= mmt_select(
          name: 'collection_progress',
          title: 'Collection Progress',
          prefix: 'draft_',
          value: draft.draft['CollectionProgress'],
          options: DraftsHelper::CollectionProgressOptions,
          help: 'properties/CollectionProgress'
        ) %>
      </div>
    </div>
  </div>
</fieldset>

<fieldset class="accordion is-closed" id="quality">
  <div class="accordion-header">
    <h3>Quality</h3>
    <a href="#" class="float-r">
      <i class="fa fa-angle-down toggle"></i>
      <span class="is-hidden">Toggle Quality</span>
    </a>
  </div>
  <div class="accordion-body">
    <!-- Quality -->
    <div class="row">
      <div class="col-12">
        <%= mmt_text_area(
          name: 'quality',
          title: 'Quality',
          prefix: 'draft_',
          value: draft.draft['Quality'],
          help: 'properties/Quality',
          validate: true
         ) %>
      </div>
    </div>
  </div>
</fieldset>

<fieldset class="accordion is-closed" id="use-constraints">
  <div class="accordion-header">
    <h3>Use Constraints</h3>
    <a href="#" class="float-r">
      <i class="fa fa-angle-down toggle"></i>
      <span class="is-hidden">Toggle Use Constraints</span>
    </a>
  </div>
  <div class="accordion-body">
    <!-- Use Constraints -->
    <div class="row">
      <div class="col-12">
        <%= mmt_text_area(
          name: 'use_constraints',
          title: 'Use Constraints',
          prefix: 'draft_',
          value: draft.draft['UseConstraints'],
          help: 'properties/UseConstraints',
          validate: true
         ) %>
      </div>
    </div>
  </div>
</fieldset>

<fieldset class="accordion is-closed" id="access-constraints">
  <div class="accordion-header">
    <h3>Access Constraints</h3>
    <a href="#" class="float-r">
      <i class="fa fa-angle-down toggle"></i>
      <span class="is-hidden">Toggle Access Constraints</span>
    </a>
  </div>
  <div class="accordion-body">
    <!-- Access Constraints -->
    <div class="row access-constraints">
      <div class="col-12">
        <div class="row sub-fields">
          <% access_constraints = draft.draft['AccessConstraints'] || {} %>

          <!-- Value -->
          <%= mmt_text_field(
            name: 'value',
            title: 'Value',
            prefix: 'draft_|access_constraints|_',
            value: access_constraints['Value'],
            help: 'definitions/AccessConstraintsType/properties/Value',
            validate: true,
            classes: 'mmt-number'
           ) %>

          <!-- Description -->
          <%= mmt_text_area(
            name: 'description',
            title: 'Description',
            prefix: 'draft_|access_constraints|_',
            value: access_constraints['Description'],
            help: 'definitions/AccessConstraintsType/properties/Description',
            validate: true
           ) %>
        </div>
      </div>
    </div>
  </div>
</fieldset>

<fieldset class="accordion is-closed" id="metadata-associations">
  <div class="accordion-header">
    <h3>Metadata Associations</h3>
    <a href="#" class="float-r">
      <i class="fa fa-angle-down toggle"></i>
      <span class="is-hidden">Toggle Metadata Associations</span>
    </a>
  </div>
  <div class="accordion-body">
    <!-- Metadata Association -->
    <div class="row">
      <div class="col-12">
        <div class="row sub-fields">
          <%= render partial: 'drafts/forms/type', locals: {
              type: 'metadata_association',
              values: draft.draft['MetadataAssociations'] || [{}],
              name_prefix: "draft_|metadata_associations|_",
              multiple: true,
              options: {} } %>
        </div>
      </div>
    </div>
  </div>
</fieldset>

<fieldset class="accordion is-closed" id="publication-references">
  <div class="accordion-header">
    <h3>Publication References</h3>
    <a href="#" class="float-r">
      <i class="fa fa-angle-down toggle"></i>
      <span class="is-hidden">Toggle Publication References</span>
    </a>
  </div>
  <div class="accordion-body">
    <!-- Publication Reference -->
    <div class="row">
      <div class="col-12">
        <div class="row sub-fields">
          <%= render partial: 'drafts/forms/type', locals: {
              type: 'publication_reference',
              values: draft.draft['PublicationReferences'] || [{}],
              name_prefix: "draft_|publication_references|_",
              multiple: true,
              options: {} } %>
        </div>
      </div>
    </div>
  </div>
</fieldset>
